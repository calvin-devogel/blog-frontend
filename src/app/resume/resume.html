<app-page-layout>
    <div left class="links">
        <!-- Placeholder for potential links like PDF download or LinkedIn -->
    </div>
    <div class="resume-content">
        <section>
        @if (resumeData?.cv?.sections?.summary; as summary) {
            <h2 class="section-header" style="margin-top: 0;">Summary</h2>
            @for (paragraph of summary; track paragraph) {
                <p class="summary-text">{{ paragraph }}</p>
            }
        }
        </section>

        <section>
            @if (resumeData?.cv?.sections?.skills; as skills) {
                <h2 class="section-header">Skills</h2>
                <div class="skills-container">
                    @for (skillGroup of skills; track skillGroup) {
                        <div class="skill-group">
                            <h3>{{ skillGroup.label }}</h3>
                            <div class="tags">
                                @for (skill of getSkillTags(skillGroup.details); track skill) {
                                    <span class="tag">{{ skill }}</span>
                                }
                            </div>
                        </div>
                    }
                </div>
            }
        </section>

        <section>
            @if (resumeData?.cv?.sections?.experience; as experience) {
                <h2 class="section-header">Experience</h2>
                @for (experienceItem of experience; track experienceItem) {
                    <div class="experience-item">
                        <div class="header-row">
                            <h3 class="role">{{ experienceItem.position }}</h3>
                            <span class="date">{{ formatDate(experienceItem.start_date) }} — {{ formatDate(experienceItem.end_date) }}</span>
                        </div>
                        <div class="company-row">{{ experienceItem.company }} — {{ experienceItem.location }}</div>
                        <ul>
                            @for (highlight of experienceItem.highlights; track highlight) {
                                <li>{{ highlight }}</li>
                            }
                        </ul>
                    </div>
                }
            }
        </section>

        <section>
            @if (resumeData?.cv?.sections?.education; as education) {
                <h2 class="section-header">Education</h2>
                @for (educationItem of education; track educationItem) {
                    <div class="education-item">
                        <div class="header-row">
                            <h3 class="role">{{ educationItem.institution }}</h3>
                            <span class="date">{{ formatDate(educationItem.end_date) }}</span>
                        </div>
                        <div class="company-row">{{ educationItem.degree }} in {{ educationItem.area }}</div>
                        <p class="coursework-summary"><strong>Relevant Coursework:</strong> {{ educationItem.summary }}</p>
                        <ul class="activities">
                           @for (highlight of educationItem.highlights; track highlight) {
                                 <li>
                                    <strong>{{ highlight.organization }}</strong>
                                    <ul>
                                        <li class="activity-detail">{{ highlight.details }}</li>
                                    </ul>
                                </li>
                           }
                        </ul>
                    </div>
                }
                
            }
        </section>

    </div>

    <div right>
        <div class="timeline">
        </div>
    </div>
</app-page-layout>